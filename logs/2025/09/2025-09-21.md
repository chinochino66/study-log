å­¦ã¶ã“ã¨

1. **CSVã®èª­ã¿è¾¼ã¿** â†’ `pd.read_csv("data.csv")`
2. **åˆ—ã®é¸æŠãƒ»è¿½åŠ ãƒ»å‰Šé™¤**
3. **æ¬ æå€¤ã®ç¢ºèªã¨å‡¦ç†** â†’ `.dropna()`, `.fillna()`
4. **ç°¡å˜ãªé›†è¨ˆ** â†’ `.groupby()`, `.mean()`

ã¾ãšã¯è»½ãæº–å‚™é‹å‹•ã€‚ğŸ‘‡

```python
import pandas as pd

# ç°¡å˜ãªãƒ‡ãƒ¼ã‚¿ã‚’ä½œã‚‹ï¼ˆCSVèª­ã¿è¾¼ã¿ã®ä»£ã‚ã‚Šï¼‰
data = {
    "name": ["Chino", "Mika", "Rin", None],
    "score": [95, 88, None, 72],
    "class": ["A", "B", "A", "B"]
}
df = pd.DataFrame(data)
print(df)
```
ä¸Šè¨˜ã®çµæœã¯ä¸‹è¨˜ã«ãªã‚‹ã€‚
    name  score class
0  Chino   95.0     A
1   Mika   88.0     B
2    Rin    NaN     A
3   None   72.0     B

---

# 1) æ¬ æã®ç¢ºèª

```python
df.isna()              # True/Falseã®è¡¨ï¼ˆã©ã“ãŒæ¬ æã‹ï¼‰
df.isna().sum()        # åˆ—ã”ã¨ã®æ¬ æå€‹æ•°
df.info()              # å‹ã¨éæ¬ ææ•°ã®è¦ç´„
```

ğŸ’¡ãƒã‚¤ãƒ³ãƒˆ

* `NaN` ã‚‚ `None` ã‚‚ **æ¬ æ** ã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹ã€‚
* `score` ã¯ floatï¼ˆå°æ•°ï¼‰ã«è‡ªå‹•æ˜‡æ ¼ã—ã¦ã„ã‚‹ï¼ˆæ¬ æã‚’è¡¨ç¾ã™ã‚‹ãŸã‚ï¼‰ã€‚

---

# 2) æ¬ æã®å‡¦ç†

## A. æ¬ æè¡Œã‚’è½ã¨ã™ï¼ˆå³ã—ã‚ï¼‰

```python
df_drop = df.dropna()ã€€# 1ã¤ã§ã‚‚æ¬ æãŒã‚ã‚Œã°è¡Œã”ã¨å‰Šé™¤
df_drop          
```

## B. æ¬ æã‚’åŸ‹ã‚ã‚‹ï¼ˆç¾å®Ÿçš„ï¼‰

```python
# æ–‡å­—åˆ—ã®æ¬ æã¯ã€Œä¸æ˜ã€ã§åŸ‹ã‚ã‚‹
df_fill = df.copy()
df_fill["name"] = df_fill["name"].fillna("ä¸æ˜")

# æ•°å€¤ã®æ¬ æã¯åˆ—å¹³å‡ã§åŸ‹ã‚ã‚‹ï¼ˆä»–ã«ä¸­å¤®å€¤/0ãªã©ã‚‚æ–¹é‡æ¬¡ç¬¬ï¼‰
mean_score = df_fill["score"].mean()
df_fill["score"] = df_fill["score"].fillna(mean_score)
df_fill
```

---

# 3) åˆ—ã®é¸æŠãƒ»è¿½åŠ ãƒ»å‰Šé™¤

```python
# é¸æŠï¼ˆåˆ—ï¼‰
df_score = df_fill[["name", "score"]]   # è¤‡æ•°åˆ—ã¯ãƒªã‚¹ãƒˆã§

# è¿½åŠ ï¼šåˆæ ¼åˆ¤å®šï¼ˆ80ç‚¹ä»¥ä¸Šã‚’åˆæ ¼ã¨ã™ã‚‹ä¾‹ï¼‰
df_fill["passed"] = df_fill["score"] >= 80

# å‰Šé™¤ï¼šåˆ—ã‚’æ¶ˆã™
df_removed = df_fill.drop(columns=["class"])  # åˆ—åã§å‰Šé™¤
```

---

# 4) æ¡ä»¶æŠ½å‡ºãƒ»ä¸¦ã¹æ›¿ãˆ

```python
# Aã‚¯ãƒ©ã‚¹ã ã‘
df_A = df_fill[df_fill["class"] == "A"]

# ã‚¹ã‚³ã‚¢ã®é«˜ã„é †ã«ä¸¦ã¹æ›¿ãˆ
df_sorted = df_fill.sort_values(by="score", ascending=False)
```

---

# 5) é›†è¨ˆï¼ˆgroupbyï¼‰

```python
# ã‚¯ãƒ©ã‚¹ã”ã¨ã®å¹³å‡ç‚¹
df_group = df_fill.groupby("class")["score"].mean()
# è¤‡æ•°æŒ‡æ¨™ã‚’ä¸€æ°—ã«
df_agg = df_fill.groupby("class")["score"].agg(["count", "mean", "min", "max"])
```

---

## ğŸ§© ã‚¯ã‚¤ã‚ºï¼ˆã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆï¼‰

1. **æ¬ æã®å ´æ‰€ã‚’æ•°ã§ç¢ºèª**ï¼š`df` ã®å„åˆ—ã«æ¬ æãŒã„ãã¤ã‚ã‚‹ã‹ã‚’1è¡Œã§è¡¨ç¤ºã›ã‚ˆã€‚
df.isna().sum()

2. **æ¬ æåŸ‹ã‚**ï¼š`name` ã® `None` ã‚’ `"Unknown"` ã«ã€`score` ã® `NaN` ã‚’ **åˆ—ã®å¹³å‡**ã§åŸ‹ã‚ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã‘ã€‚
df_fill = df.copy()
df_fill["name"] = df_fill["name"].fillna("Unknown")

mean_score = df_fill["score"].mean()
df_fill["score"] = df_fill["score"].fillna(mean_score)
df_fill

3. **æŠ½å‡º**ï¼š`score` ãŒ 85 ä»¥ä¸Šã®è¡Œã ã‘å–ã‚Šå‡ºã›ã€‚
df_over85 = df_fill[df_fill["score"] >= 85]

4. **é›†è¨ˆ**ï¼š`class` ã”ã¨ã® `score` å¹³å‡ã‚’æ±‚ã‚ã‚ã€‚ãã—ã¦é«˜ã„é †ã«ä¸¦ã¹æ›¿ãˆã‚ã€‚
df_group = df_fill.groupby("class")["score"].mean()
df_sorted = df_group.sort_values(ascending=False)  # é«˜ã„é †ï¼ˆé™é †ï¼‰
print(df_sorted)
 
---

## ä»•ä¸Šã’

å‰å‡¦ç†ã—ãŸ `df_fill` ã‚’ **CSVã§ä¿å­˜**ã—ã¦ã€æ¬¡å›ä»¥é™ã‚‚ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ã¦ãŠãã€‚

```python
df_fill.to_csv("clean_scores.csv", index=False, encoding="utf-8")
```


